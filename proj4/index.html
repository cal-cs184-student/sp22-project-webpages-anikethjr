<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>
  body {
    padding: 100px;
    width: 1000px;
    margin: auto;
    text-align: left;
    font-weight: 300;
    font-family: 'Open Sans', sans-serif;
    color: #121212;
  }
  h1, h2, h3, h4 {
    font-family: 'Source Sans Pro', sans-serif;
  }
</style>
<title>CS 184 Mesh Editor</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">
</head>


<body>

<h1 align="middle">CS 284: Computer Graphics and Imaging, Spring 2022</h1>
<h1 align="middle">Project 4: Cloth Simulator</h1>
<h2 align="middle">Aniketh Janardhan Reddy and Aditya Ramkumar, CS284A</h2>

<br><br>

<div>

<h2 align="middle">Overview</h2>
<p>In this project, we worked on cloth simulation by modelling a cloth as a system of point masses connected to each other by springs. We used this model to compute the various forces on the masses and then simulated the cloth's movements by applying these forces on all the masses. Finally, we also explored shaders and different techniques that can be used build them.</p>

<h2 align="middle">Part 1: Masses and springs</h2>
  <p>In the first part of the project, we implemented a cloth as a grid of point masses connected by springs. There were 3 constraints that we implemented: structural, shearing and bending. Here are a couple pictures of our wireframe from different angles. </p>

  <div align="middle">
  <table style="width=100%">
    <tr>
      <td>
        <img src="images/p1_pinned2_top.png" align="middle" width="480px" />
        <figcaption align="middle">scene/pinned2.json from top angle.</figcaption>
      </td>
      <td>
        <img src="images/p1_pinned2_side.png" align="middle" width="480px" />
        <figcaption align="middle">scene/pinned2.json from side angle.</figcaption>
      </td></figcaption>
      </td>
    </tr>
  </table>
</div>

  <p> Here's what the wireframe looks like (1) without any shearing constraints, (2) with only shearing constraints, and (3) with all constraints. </p>

  <div align="middle">
    <table style="width=100%">
      <tr>
        <td>
          <img src="images/p1_all.png" align="middle" width="480px" />
          <figcaption align="middle">Wireframe with all constraints</figcaption>
        </td>
        <td>
          <img src="images/p1_no_shearing.png" align="middle" width="480px" />
          <figcaption align="middle">Wireframe without any shearing constraints</figcaption>
        </td></figcaption>
        </td>
      </tr>
      <br>
      <tr>
        <td>
          <img src="images/p1_shearing.png" align="middle" width="480px" />
          <figcaption align="middle">Wireframe with only shearing constraints</figcaption>
        </td>
      </tr>
    </table>
  </div>

<h2 align="middle">Part 2: Simulation via numerical integration</h2>

<h2 align="middle">Part 5: Shaders</h2>

  <p>A shader is a optimized program which runs independently and in parallel to help optimize certain parts of the graphics pipeline- particularly shading components. There are 2 times of shaders: vertex and fragment shaders. Vertex shaders modify the object vertices and can tranform their position/normal/other geometric properties. Fragment shaders, on the other hand, process a fragment of a scene to write out a single color for what that pixel should be. A fragment in particular encodes all the info to draw a pixel. So the way vertex shaders and fragment shaders work together is that vertex shaders cacluate all the info for vertices in a 3d mesh, then they are interpolated with barycentric interpolation; finally fragment shaders use the information from these vertex shaders to calcuate pixel values and visual surface effects.</p>

  <p>The Blinn-Phong shading model is a method of rendering reflections. Using the Blinn-Phong shading model, we can add ambient (effects of ambient light), diffuse (reflected light that is scattered equally in all directions), specular (reflections from light sources) components to shade the cloth model. Here is a screenshot of your Blinn-Phong shader outputting only the ambient component, a screen shot only outputting the diffuse component, a screen shot only outputting the specular component, and one using the entire Blinn-Phong model.</p>

  <div align="middle">
    <table style="width=100%">
      <tr>
        <td>
          <img src="images/p5_ambient.png" align="middle" width="480px" />
          <figcaption align="middle">Ambient Component</figcaption>
        </td>
        <td>
          <img src="images/p5_diffuse.png" align="middle" width="480px" />
          <figcaption align="middle">Diffuse Component</figcaption>
        </td></figcaption>
        </td>
      </tr>
      <br>
      <tr>
        <td>
          <img src="images/p5_specular.png" align="middle" width="480px" />
          <figcaption align="middle">Specular Component</figcaption>
        </td>
        <td>
          <img src="images/p5_final_phong.png" align="middle" width="480px" />
          <figcaption align="middle">Entire Blinn-Phong model</figcaption>
        </td>
      </tr>
    </table>
  </div>

  <p>Here is a screenshot of our texture mapping shader using our own custom texture by modifying the textures in /textures/.</p>

  <div align="middle">
    <table style="width=100%">
      <tr>
        <td>
          <img src="images/p5_texture.png" align="middle" width="480px" />
          <figcaption align="middle">Custom texture we used</figcaption>
        </td>
        <td>
          <img src="images/p5_texture_rendered.png" align="middle" width="480px" />
          <figcaption align="middle">Custom texture mapped onto a flat piece of cloth</figcaption>
        </td></figcaption>
        </td>
      </tr>
    </table>
  </div>

  <p>We implemented bump and displacement mapping. Bump mapping is where you assign a height for every point on a suface, and set the shading correspondingly (without changing the location of the vertices), so we only need to make changes to the fragment shader. Displacement mapping, on the other hand moves the vertices itself so we need to make changes to the vertex shaders as well.</p>

  <p>In terms of the below renders for bump and displacement mapping, we can see that both affect the appearance of the objects as intended. However, bump mapping doesn't change the behavior of the objects, while displacement mapping actually moves vertices around. In terms of the various coasenesses we tried, they have a minimal effect, but the more course spheres were not as round. </p>

  <div align="middle">
    <table style="width=100%">
      <tr>
        <td>
          <img src="images/p5_bump_coarse_top.png" align="middle" width="480px" />
          <figcaption align="middle">Bump Mapping, resolution = 16</figcaption>
        </td>
        <td>
          <img src="images/p5_bump_coarse_down.png" align="middle" width="480px" />
          <figcaption align="middle">Bump Mapping, resolution = 16</figcaption>
        </td></figcaption>
        </td>
      </tr>
      <br>
      <tr>
        <td>
          <img src="images/p5_bump_fine_side.png" align="middle" width="480px" />
          <figcaption align="middle">Bump Mapping, resolution = 128</figcaption>
        </td>
        <td>
          <img src="images/p5_bump_fine_down.png" align="middle" width="480px" />
          <figcaption align="middle">Bump Mapping, resolution = 128</figcaption>
        </td>
      </tr>
      <br>
      <tr>
        <td>
          <img src="images/p5_displacement_coarse_side.png" align="middle" width="480px" />
          <figcaption align="middle">Displacement Mapping, resolution = 16</figcaption>
        </td>
        <td>
          <img src="images/p5_displacement_coarse_down.png" align="middle" width="480px" />
          <figcaption align="middle">Displacement Mapping, resolution = 16</figcaption>
        </td>
      </tr>
      <br>
      <tr>
        <td>
          <img src="images/p5_displacement_fine_side.png" align="middle" width="480px" />
          <figcaption align="middle">Displacement Mapping, resolution = 128</figcaption>
        </td>
        <td>
          <img src="images/p5_displacement_fine_down.png" align="middle" width="480px" />
          <figcaption align="middle">Displacement Mapping, resolution = 128</figcaption>
        </td>
      </tr>
    </table>
  </div>

  <p> Finally, here is a screenshot of our mirror shader on the cloth and on the sphere.</p>

  <div align="middle">
    <table style="width=100%">
      <tr>
        <td>
          <img src="images/p5_mirror_side.png" align="middle" width="480px" />
        </td>
        <td>
          <img src="images/p5_mirror_down.png" align="middle" width="480px" />
        </td>
        </td>
      </tr>
    </table>
  </div>

</body>
</html>
